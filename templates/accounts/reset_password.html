{% extends 'base.html' %} 
{% block content %}
<!-- Message Display -->
{% include 'component/alerts.html' %}

<!-- Main Section Start -->
<div class="main-section">
  <div
    class="page-section nopadding cs-nomargin"
    style="
      margin-top: 0px;
      padding-top: 60px;
      padding-bottom: 60px;
      margin-bottom: 0px;
    "
  >
    <div class="container">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <div
            class="user-dashboard loader-holder"
            style="width: 450px; min-height: auto"
          >
            <div class="user-holder">
              <h4 class="text-center" style="margin-bottom: 0">
                Reset Your Password
              </h4>
              <hr />
              <div id="restaurant-sets-holder">
                <form
                  action="{% url 'reset_password' %}"
                  class="form-fields-set foodbakery-dev-restaurant-form"
                  method="post"
                  enctype="multipart/form-data"
                  onsubmit="return validatePassword(this);"
                >
                  {% csrf_token %}
                  <ul
                    class="register-add-restaurant-tab-container restaurant-information-tab-container"
                  >
                    <li>
                      <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                          <div class="field-holder">
                            <label>Password</label>
                            <input
                              type="password"
                              name="password"
                              id="id_password"
                              placeholder="Enter New Password"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                          <div class="field-holder">
                            <label>Confirm Password</label>
                            <input
                              type="password"
                              name="confirm_password"
                              id="id_confirm_password"
                              placeholder="Confirm New Password"
                            />
                            <span
                              id="password-error"
                              style="color: red; display: none"
                              >Passwords do not match!</span
                            >
                          </div>
                        </div>
                      </div>
                    </li>
                    <li>
                      <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                          <div class="field-holder">
                            <div class="payment-holder">
                              <input
                                type="submit"
                                value="Reset Password"
                                id="btn-next-restaurant-information"
                                class="bgcolor"
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </form>
                <script>
                  function validatePassword(form) {
                    let password = form.querySelector("#id_password").value;
                    let confirmPassword = form.querySelector(
                      "#id_confirm_password"
                    ).value;
                    let errorSpan = form.querySelector("#password-error");
                    if (password !== confirmPassword) {
                      errorSpan.style.display = "inline"; // Show error message
                      return false; // Prevent form submission
                    } else {
                      errorSpan.style.display = "none"; // Hide error message
                      return true; // Allow form submission
                    }
                  }
                </script>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Main Section End -->
{% endblock %}
